<%inherit file="base.html" />
<%namespace name='static' file='static_content.html'/>
<%!
  from django.utils.translation import ugettext as _
  from django.core.urlresolvers import reverse
%>
<%block name="title">${_("Pages")}</%block>
<%block name="bodyclass">is-signedin course view-static-pages</%block>

<%block name="header_extras">
% for template_name in ["edit-xblock-modal"]:
<script type="text/template" id="${template_name}-tpl">
    <%static:include path="js/${template_name}.underscore" />
</script>
% endfor
</%block>

<%block name="jsextra">
<script type='text/javascript'>
    require(["js/models/explicit_url", "coffee/src/views/tabs",
        "xmodule", "coffee/src/main", "xblock/cms.runtime.v1"],
            function (TabsModel, TabsEditView) {
                var model = new TabsModel({
                    id: "${course_locator}",
                    explicit_url: "${course_locator.url_reverse('tabs')}"
                });

                new TabsEditView({
                    el: $('.tab-list'),
                    model: model,
                    mast: $('.wrapper-mast')
                });
            });
  </script>
</%block>

<%block name="content">
<div class="wrapper-mast wrapper">
  <header class="mast has-actions has-subtitle">
    <h1 class="page-header">
      <small class="subtitle">${_("Content")}</small>
      ## Translators: Pages refer to the tabs that appear in the top navigation of each course.
      <span class="sr">&gt; </span>${_("Pages")}
    </h1>

    <nav class="nav-actions">
      <h3 class="sr">${_("Page Actions")}</h3>
      <ul>
        <li class="nav-item">
        <a href="#" class="button new-button new-tab"><i class="icon-plus"></i> ${_("New Page")}</a>
        </li>
      </ul>
    </nav>
  </header>
</div>

<div class="wrapper-content wrapper">
  <section class="content">
    <article class="content-primary" role="main">

      <div class="inner-wrapper">
        <article class="unit-body">

          <div class="tab-list">
            <ol class="course-nav-tab-list components">

              % for tab in built_in_tabs:
                <li class="course-nav-tab fixed">
                  <div class="course-nav-tab-header">
                    <h3 class="title">${_(tab.name)}</h3>
                  </div>
                  <div class="course-nav-tab-actions wrapper-actions-list">
                    <ul class="actions-list">

                    % if tab.is_hideable:
                      <li class="action-item action-visible">
                          <label for="[id]"><span class="sr">${_("Show this page")}</span></label>
                          <input type="checkbox" id="[id]" class="toggle-checkbox" data-tooltip="${_('Show/hide page')}" />
                          <div class="action-button"><i class="icon-eye-open"></i><i class="icon-eye-close"></i></div>
                      </li>
                   %endif

                    </ul>
                  </div>
                  <div class="drag-handle is-fixed" data-tooltip="${_('Cannot be reordered')}">
                    <span class="sr">${_("Fixed page")}</span>
                  </div>
                </li>
              % endfor

              % for locator in components:
              <li class="component" data-locator="${locator}"></li>
              % endfor

              <li class="new-component-item">

              </li>
            </ol>
          </div>

          <div class="add-pages">
              <p>${_("You can add additional custom pages to your course.")} <a href="#" class="button new-button new-tab"><i class="icon-plus"></i>${_("Add a New Page")}</a></p>
          </div>
        </article>
      </div>
    </article>

    <aside class="content-supplementary" role="complimentary">
      <div class="bit">
        <h3 class="title-3">${_("What are pages?")}</h3>
        <p>${_("Pages are listed horizontally at the top of your course. Default pages (Courseware, Course info, Discussion, Wiki, and Progress) are followed by textbooks and custom pages that you create.")}</p>
      </div>
      <div class="bit">
        <h3 class="title-3">${_("Custom pages")}</h3>
        <p>${_("You can create and edit custom pages to provide students with additional course content. For example, you can create pages for the grading policy, course slides, and a course calendar. ")} </p>
      </div>
      <div class="bit">
        <h3 class="title-3">${_("How do pages look to students in my course?")}</h3>
        <p>${_("Students see the default and custom pages at the top of your course and use these links to navigate.")} <br /> <a rel="modal" href="#preview-lms-staticpages">${_("See an example")}</a></p>
      </div>
    </aside>

  </section>
</div>

<div class="content-modal" id="preview-lms-staticpages">
  <h3 class="title">${_("Pages in Your Course")}</h3>
  <figure>
    <img src="${static.url("img/preview-lms-staticpages.png")}" alt="${_('Preview of Pages in your course')}" />
    <figcaption class="description">${_("Pages appear in your course's top navigation bar. The default pages (Courseware, Course Info, Discussion, Wiki, and Progress) are followed by textbooks and custom pages.")}</figcaption>
  </figure>

  <a href="#" rel="view" class="action action-modal-close">
    <i class="icon-remove-sign"></i>
    <span class="label">${_("close modal")}</span>
  </a>
</div>

<div class="edit-xblock-modal"/>
</%block>
